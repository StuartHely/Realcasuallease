# =============================================================================
# CasualLease Kubernetes Secrets Template
# 
# IMPORTANT: This is a TEMPLATE file. Do NOT commit actual secrets to git!
# 
# Usage:
# 1. Copy this file and fill in real values
# 2. Apply with: kubectl apply -f secrets.yml
# 3. Or use external secrets manager (AWS Secrets Manager, Vault, etc.)
# 
# Values must be base64 encoded. Use:
#   echo -n 'your-value' | base64
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: casuallease-secrets
  namespace: casuallease
  labels:
    app: casuallease
    environment: production
type: Opaque
data:
  # -----------------------------------------------------------------------------
  # Database Configuration (Required)
  # PostgreSQL/Aurora PostgreSQL connection string
  # Format: postgresql://user:password@host:5432/database?sslmode=require
  # Example: echo -n 'postgresql://user:password@aurora-postgres.cluster-xxx.ap-southeast-2.rds.amazonaws.com:5432/casuallease?sslmode=require' | base64
  # -----------------------------------------------------------------------------
  DATABASE_URL: REPLACE_WITH_BASE64_ENCODED_DATABASE_URL
  
  # -----------------------------------------------------------------------------
  # JWT Secret (Required)
  # Used for signing JWT tokens for authentication
  # Generate with: openssl rand -base64 32
  # Then encode: echo -n 'your-generated-secret' | base64
  # -----------------------------------------------------------------------------
  JWT_SECRET: REPLACE_WITH_BASE64_ENCODED_JWT_SECRET
  
  # -----------------------------------------------------------------------------
  # AWS Credentials for S3 (Optional if using IRSA)
  # If using IAM Roles for Service Accounts (IRSA), these can be omitted
  # The service account annotation in deployment.yml will provide credentials
  # -----------------------------------------------------------------------------
  AWS_ACCESS_KEY_ID: REPLACE_WITH_BASE64_ENCODED_ACCESS_KEY
  AWS_SECRET_ACCESS_KEY: REPLACE_WITH_BASE64_ENCODED_SECRET_KEY
  
  # -----------------------------------------------------------------------------
  # S3 Bucket Name (Required)
  # The bucket used for storing uploaded images and files
  # Example: echo -n 'casuallease-assets-prod' | base64
  # -----------------------------------------------------------------------------
  AWS_S3_BUCKET: REPLACE_WITH_BASE64_ENCODED_BUCKET_NAME
  
  # -----------------------------------------------------------------------------
  # Google Maps API Key (Optional)
  # Used for map functionality in the application
  # Get from: https://console.cloud.google.com/apis/credentials
  # -----------------------------------------------------------------------------
  GOOGLE_MAPS_API_KEY: REPLACE_WITH_BASE64_ENCODED_API_KEY

---
# =============================================================================
# Alternative: Using AWS Secrets Manager with External Secrets Operator
# Uncomment below if using external-secrets operator
# =============================================================================

# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: casuallease-external-secrets
#   namespace: casuallease
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: ClusterSecretStore
#   target:
#     name: casuallease-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: DATABASE_URL
#       remoteRef:
#         key: casuallease/production
#         property: DATABASE_URL
#     - secretKey: SESSION_SECRET
#       remoteRef:
#         key: casuallease/production
#         property: SESSION_SECRET
#     - secretKey: AWS_S3_BUCKET
#       remoteRef:
#         key: casuallease/production
#         property: AWS_S3_BUCKET
#     - secretKey: GOOGLE_MAPS_API_KEY
#       remoteRef:
#         key: casuallease/production
#         property: GOOGLE_MAPS_API_KEY
