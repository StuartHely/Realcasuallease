# =============================================================================
# CasualLease Kubernetes ConfigMap
# Non-sensitive configuration values
# =============================================================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: casuallease-config
  namespace: casuallease
  labels:
    app: casuallease
    environment: production
data:
  # -----------------------------------------------------------------------------
  # Node.js Environment
  # -----------------------------------------------------------------------------
  NODE_ENV: "production"
  
  # -----------------------------------------------------------------------------
  # Application Port
  # Must match containerPort in deployment and targetPort in service
  # -----------------------------------------------------------------------------
  PORT: "3000"
  
  # -----------------------------------------------------------------------------
  # AWS Region
  # Used for S3, AWS Location Service, and other AWS services
  # -----------------------------------------------------------------------------
  AWS_REGION: "ap-southeast-2"
  
  # -----------------------------------------------------------------------------
  # AWS Location Service
  # Resources created by Terraform in tinkertank-infra
  # Uses IRSA via location-service service account for authentication
  # -----------------------------------------------------------------------------
  AMAZON_LOCATION_PLACE_INDEX: "tinkertank-dev-place-index"
  AMAZON_LOCATION_ROUTE_CALCULATOR: "tinkertank-dev-route-calculator"
  AMAZON_LOCATION_MAP: "tinkertank-dev-map"
  
  # -----------------------------------------------------------------------------
  # Logging Configuration
  # -----------------------------------------------------------------------------
  LOG_LEVEL: "info"
  
  # -----------------------------------------------------------------------------
  # Application Settings
  # -----------------------------------------------------------------------------
  # Maximum request body size for file uploads
  MAX_BODY_SIZE: "50mb"
  
  # Trust proxy headers from load balancer
  TRUST_PROXY: "true"
